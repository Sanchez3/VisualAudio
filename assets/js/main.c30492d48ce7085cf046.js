(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{c0Aq:function(e,n,t){},dO7Y:function(e,n,t){"use strict";t.r(n);var i,o,r,a,d=t("iZKT");t("c0Aq"),t("kSzJ");window.AudioContext=window.webkitAudioContext||window.AudioContext||window.mozAudioContext;var w,c,s,u=null,l=false,f=1024;try{i=new AudioContext}catch(e){alert("Your browser does not support AudioContext!")}function h(e){}function v(e){o.buffer=e,s?(c=Date.now()-s,o.start(0,s/1e3)):(c=Date.now(),o.start(0)),o.loop=true,l=true}window.h5={FizzyText:{drawBar:false,drawWave:true,barColor:16777215,waveColor:16777215,play:function(){var e,n;l||(o=i.createBufferSource(),r=i.createAnalyser(),a=i.createScriptProcessor(f,1,1),w=new Uint8Array(r.frequencyBinCount),o.connect(i.destination),o.connect(r),r.connect(a),a.connect(i.destination),a.onaudioprocess=function(){true==l&&window.h5.ticker.start()},null==u?(e="./assets/media/bgm1.mp3",(n=new XMLHttpRequest).open("GET",e,true),n.responseType="arraybuffer",n.onload=function(){i.decodeAudioData(n.response,function(e){v(u=e)},h)},n.send()):v(u))},pause:function(){o.stop(0),l=false,s=Date.now()-c}},initGUI:function(){var e=this,n=new d.a,t=n.addFolder("SineWave");function i(n){var t=e.FizzyText[n];t&&(e.FizzyText.drawBar=false,e.FizzyText.drawWave=false),e.FizzyText[n]=t}t.add(e.FizzyText,"drawWave").listen().onChange(function(){i("drawWave")}),t.addColor(e.FizzyText,"waveColor");var o=n.addFolder("Frequency Bar");o.add(e.FizzyText,"drawBar").listen().onChange(function(){i("drawBar")}),o.addColor(e.FizzyText,"barColor"),n.add(e.FizzyText,"play"),n.add(e.FizzyText,"pause")},initAudioCanvas:function(){var e=this,n=new PIXI.Application({width:800,height:600});document.getElementById("canvas-wrapper").appendChild(n.view);var t=800,i=600,o=new PIXI.Graphics,a=new PIXI.Text("Note: Mobile for now too!!!",{fill:"#FFF"});a.x=10,a.y=10,n.stage.addChild(a),o.clear(),n.stage.addChild(o),e.ticker=new PIXI.ticker.Ticker,e.ticker.stop(),e.ticker.add(n=>{e.FizzyText.drawWave?function(){r.getByteTimeDomainData(w);var n=r.frequencyBinCount;o.clear();var a=1*t/n,d=0;o.beginFill(),o.lineStyle(2,e.FizzyText.waveColor,1);for(var c=0;c<n;c++){var s=w[c]/128*i/2;0===c?o.moveTo(d,s):o.lineTo(d,s),d+=a}o.lineTo(t,i/2),o.endFill()}():e.FizzyText.drawBar&&function(){r.getByteFrequencyData(w);var n=r.frequencyBinCount;o.clear(),o.beginFill(e.FizzyText.barColor);for(var a=t/n*10,d=0,c=0,s=0;s<n;s++)d=w[s],o.drawRect(c,i/2-d/2,a,d/2),c+=a+1}()})},isPc:function(){for(var e=navigator.userAgent,n=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),t=true,i=0;i<n.length;i++)if(e.indexOf(n[i])>0){t=false;break}return t},rootResize:function(){var e,n=window.screen.width>0&&(window.innerWidth>=window.screen.width||0==window.innerWidth)?screen.width:window.innerWidth,t=window.screen.height>0&&(window.innerHeight>=window.screen.height||0==window.innerHeight)?window.screen.height:window.innerHeight;e=n>t?t/750*100:n/750*100,document.getElementsByTagName("html")[0].style.fontSize=e+"px"},eventInit:function(){return document.addEventListener("touchstart",function(e){},{passive:false}),document.addEventListener("touchmove",function(e){e.preventDefault()},{passive:false}),this},cssInit:function(){var e=this;return e.rootResize(),window.addEventListener("onorientationchange"in window?"orientationchange":"resize",function(){var n,t,i,o,r,a;i=function(){clearInterval(n),clearTimeout(t),n=null,t=null,e.rootResize()},n=setInterval(function(){window.innerWidth===o&&window.innerHeight===r?100===++a&&i():(o=window.innerWidth,r=window.innerHeight,a=0)}),t=setTimeout(function(){i()},1e3)}),e},init:function(){this.cssInit().eventInit(),this.initGUI(),this.initAudioCanvas()}},window.onload=function(){window.h5.init()}}},[["dO7Y",2,1]]]);
//# sourceMappingURL=main.c30492d48ce7085cf046.js.map